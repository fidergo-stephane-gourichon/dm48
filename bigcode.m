%%HP: T(0)A(R)F(.);
´
"%BIGCODE.S
GOSUBL SAVEREG
GOSBVL 01C31
%LC2GRDEST
LC 02
GOSUBL GOLEVCb
C=C+10 A
AD0EX
?AãC A
GOYES SWOOSHONLY
GOTO PILEOK
*SWOOSHONLY
'SWOOSH.S
GOVLNG 05143

*PILEOK
ST=1 11 %DISP.IMPERATIF

*BOUCLE.PRINCIPALE

'TOTDISPCONDITIONNEL.S

GOSUBL CYCLEOBJETS

?ST=0 9 %ACTION RAPIDE
GOYES ACTIONNORMALE
GOLONG ACTIONRAPIDE
*ACTIONNORMALE

GOSBVL 01C31 %D0çECRAN
GOSBVL 012F9 %C=TICKS
DAT0=C W


D0= 0012E
C=DAT0 S
?Cã0 S
GOYES HORLOGEPASLIBRE

D0= 00137
LC 1 %1/16
DAT0=C 1 %PROCHAINE INTERRUPT
D0= 2E %DEMANDER INTERRUPT
LC 6
DAT0=C 1

GOSBVL 04929 %WAIT.INT

*HORLOGEPASLIBRE

GOSBVL 04840 %KEY

%SI TOUCHE 0 (=TIMEOUT)
B=0 A
B=C B
?B=0 B
GOYES KEYSTANDARD

%TOUCHE Bb ENFONCEE
%QUEL MODE ?
%LC5ETATDISP
LC 00011
GOSUBL GONLEV1Ca
C=DAT1 S
C=C-1 S
GONC PAS0SOMMEIL
%SOMMEIL:SEULEMENT
%CHANGEMENT VUE
%(25‡29,ie 19h‡1Dh)
*SEULCHGVUEVALIDE
LC 19
?B<C B
GOYES PASBARREVUE
LC 1D
?B>C B
GOYES PASBARREVUE
GOTO KEYSTANDARD
*PASBARREVUE
GOTO BADKEY
*PAS0SOMMEIL
C=C-1 S
GONC PAS1VUELABY
GOTO KEYSTANDARD
*PAS1VUELABY
C=C-1 S
GONC PAS2VUEOBJ
LC 12 %TOUCHES 1 A 18d
?B>C B
GOYES KEYSTANDARD
%Bb=N∞ TOUCHE
GOTO TOUCHESAC
*PAS2VUEOBJ
C=C-1 S
GONC PAS3SANTE
GOTO SEULCHGVUEVALIDE
*PAS3SANTE
LC 23
GOLONG ERRORCb
*KEYSTANDARD
A=B B %N∞TOUCHE
GOSUBL FINKEYSLL
'KEYSLL.S
*FINKEYSLL
C=RSTK
D1=C
LC 0003F
C=C&A A
GOSUBL D1çLLCaGET
CD1EX
%ON A TJ Bb=N∞TOUCHE
PC=C
*APRESKEYS

%%TELEP?
*ACTIONRAPIDE
ST=0 9
%VOYONS QUOI DE PARTICULIER
GOSUBL GOHOME
C=DAT1 A
D=C A
B=C A
BSR A
LC 08
GOSUBL GOLEVCb
P= 14
GOSUBL SEEKB4ATFLUC
GONC ONATELEPORT
GOTO PASTELEPORT
*ONATELEPORT
%(D0)çDXXYYNIVEAU
GOSUBL GOHOME
C=DAT0 A
%QUEL TYPE TELEPORT ?
?CBIT=0 3
GOYES FTEL0
?CBIT=1 2
GOYES TELEP.ESCALIER
GOTO TELEP.ABSOUTENU
*FTEL0
?CBIT=1 2
GOYES TELEP.ABSOLU
GOTO TELEP.RELATIF
%(D0)çDXXYYNIVEAU
%(D1)çINFOSTRING
*TELEP.ESCALIER
CBIT=0 3
CBIT=0 2
A=DAT1 P
A=A+2 P
ABIT=0 2
ABIT=0 3
?A=C P
GOYES TRANSPEPARGN…
GOTO TELEP.ABSOLU
*TELEP.RELATIF
A=DAT1 P
C=C+A P
GOTO TELEP.ABSOLU
*TELEP.ABSOUTENU
ST=1 9 %ON REPART!
*TELEP.ABSOLU
B=C P
C=DAT0 A
C=B P
CBIT=0 2
CBIT=0 3
DAT1=C A
ST=1 11

%MAINTENANT VERIF
%SI BESOIN CHANGER
%NIVEAU
D0=D0+ 5
P= 9 %10q=5CHARs
C=DAT0 WP
?C=0 WP
GOYES TRANSMEMENIVEAU
D1=D1+ 5
DAT1=C WP
P= 0
LC 00
GOLONG ERRORCb
%L'EXT NOUS PLACERA
%AU BON NIVEAU
*TRANSMEMENIVEAU
P= 0
GOLONG BOUCLE.PRINCIPALE
*TRANSPEPARGN…
*PASTELEPORT
*PASACTIONRAPIDE
GOSBVL 0CA60
GOLONG BOUCLE.PRINCIPALE
'CYCLEOBJETS.S
*SUBEXTFOLLOW
C=RSTK
A=C A
GOSBVL 067D2
D0=A
GOVLNG 05149
*SAVEREG&A
GOSBVL 06641
*SAVEREG
GOVLNG 0679B
*FINBIGCODE
@"
çASM
ª
